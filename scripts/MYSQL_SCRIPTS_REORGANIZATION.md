# ğŸ“ MySQL è„šæœ¬é‡æ–°ç»„ç»‡è¯´æ˜

## ğŸ—ï¸ æ–°çš„ç›®å½•ç»“æ„

### ğŸ“‹ **scripts/start/** - å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œçš„è„šæœ¬
```
scripts/start/
â”œâ”€â”€ 01-init.sql         # åŸºç¡€æ•°æ®åº“å’Œè¡¨ç»“æ„
â””â”€â”€ 02-kafka-tables.sql # Kafka ç›¸å…³è¡¨ç»“æ„
```

**ç‰¹ç‚¹**ï¼š
- âœ… Docker Compose å¯åŠ¨æ—¶**è‡ªåŠ¨æ‰§è¡Œ**
- âœ… æŒ‰æ–‡ä»¶å**å­—æ¯é¡ºåº**æ‰§è¡Œ
- âœ… ä»…åœ¨ MySQL å®¹å™¨**é¦–æ¬¡å¯åŠ¨**æ—¶æ‰§è¡Œ
- âœ… ç”¨äºåˆ›å»º**å¿…éœ€çš„åŸºç¡€ç»“æ„**

### ğŸ› ï¸ **scripts/helper/** - è¾…åŠ©ç®¡ç†è„šæœ¬
```
scripts/helper/
â”œâ”€â”€ manage-mysql.sh         # äº¤äº’å¼ MySQL ç®¡ç†å·¥å…·
â”œâ”€â”€ exec-sql.sh            # SQL æ–‡ä»¶æ‰§è¡Œå·¥å…·
â”œâ”€â”€ add-mysql.sh           # MySQL æ·»åŠ æŒ‡å—è„šæœ¬
â”œâ”€â”€ create-project-db.sql  # é¡¹ç›®ç®¡ç†æ•°æ®åº“ç¤ºä¾‹
â””â”€â”€ cleanup-test-data.sql  # æµ‹è¯•æ•°æ®æ¸…ç†è„šæœ¬
```

**ç‰¹ç‚¹**ï¼š
- ğŸ”§ **æ‰‹åŠ¨æ‰§è¡Œ**çš„è¾…åŠ©å·¥å…·
- ğŸ”§ ç”¨äº**å¼€å‘å’Œç»´æŠ¤**é˜¶æ®µ
- ğŸ”§ **å¯é€‰åŠŸèƒ½**ï¼Œä¸å½±å“åŸºç¡€ç³»ç»Ÿ

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### **å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œ**
```bash
# é‡æ–°åˆå§‹åŒ–æ•°æ®åº“ï¼ˆä¼šåˆ é™¤æ‰€æœ‰æ•°æ®ï¼‰
docker-compose down -v
docker-compose up -d

# scripts/start/ ä¸­çš„è„šæœ¬ä¼šè‡ªåŠ¨æŒ‰é¡ºåºæ‰§è¡Œ
```

### **æ‰‹åŠ¨æ‰§è¡Œè¾…åŠ©è„šæœ¬**
```bash
# äº¤äº’å¼ç®¡ç† MySQL
./scripts/helper/manage-mysql.sh

# æ‰§è¡Œè‡ªå®šä¹‰ SQL æ–‡ä»¶
./scripts/helper/exec-sql.sh ./scripts/helper/create-project-db.sql

# æ¸…ç†æµ‹è¯•æ•°æ®
./scripts/helper/exec-sql.sh ./scripts/helper/cleanup-test-data.sql
```

## ğŸ¯ é…ç½®æ›´æ–°

### **docker-compose.yaml æ›´æ–°**
```yaml
mysql:
  volumes:
    - mysql-data:/var/lib/mysql
    - ./scripts/start:/docker-entrypoint-initdb.d  # æ–°è·¯å¾„
```

**å˜æ›´**ï¼š
- âŒ æ—§è·¯å¾„ï¼š`./mysql/init:/docker-entrypoint-initdb.d`
- âœ… æ–°è·¯å¾„ï¼š`./scripts/start:/docker-entrypoint-initdb.d`

## ğŸ“š è„šæœ¬åˆ†ç±»è¯´æ˜

### ğŸ”„ **è‡ªåŠ¨æ‰§è¡Œè„šæœ¬** (scripts/start/)
- **ç›®çš„**ï¼šç¡®ä¿åŸºç¡€æ•°æ®ç»“æ„å­˜åœ¨
- **æ—¶æœº**ï¼šMySQL å®¹å™¨é¦–æ¬¡å¯åŠ¨
- **å†…å®¹**ï¼šæ•°æ®åº“ã€è¡¨ã€ç´¢å¼•ã€åŸºç¡€æ•°æ®
- **åŸåˆ™**ï¼šè½»é‡ã€å¿…éœ€ã€ç¨³å®š

### ğŸ› ï¸ **è¾…åŠ©ç®¡ç†è„šæœ¬** (scripts/helper/)
- **ç›®çš„**ï¼šå¼€å‘å’Œç»´æŠ¤é˜¶æ®µä½¿ç”¨
- **æ—¶æœº**ï¼šæ ¹æ®éœ€è¦æ‰‹åŠ¨æ‰§è¡Œ
- **å†…å®¹**ï¼šæµ‹è¯•æ•°æ®ã€ç¤ºä¾‹æ•°æ®åº“ã€æ¸…ç†å·¥å…·
- **åŸåˆ™**ï¼šçµæ´»ã€å¯é€‰ã€å®ç”¨

## âœ… ä¼˜åŠ¿

1. **ğŸ¯ èŒè´£æ˜ç¡®**ï¼šå¯åŠ¨è„šæœ¬ vs è¾…åŠ©å·¥å…·åˆ†ç¦»
2. **ğŸš€ å¯åŠ¨å¿«é€Ÿ**ï¼šåªæ‰§è¡Œå¿…éœ€çš„åˆå§‹åŒ–
3. **ğŸ› ï¸ çµæ´»ç®¡ç†**ï¼šä¸°å¯Œçš„è¾…åŠ©å·¥å…·é›†
4. **ğŸ“ ç»“æ„æ¸…æ™°**ï¼šæŒ‰ç”¨é€”ç»„ç»‡æ–‡ä»¶
5. **ğŸ”§ æ˜“äºç»´æŠ¤**ï¼šç›¸å…³è„šæœ¬é›†ä¸­ç®¡ç†

## ğŸ”„ è¿ç§»å®Œæˆ

- âœ… å¯åŠ¨è„šæœ¬å·²ç§»è‡³ `scripts/start/`
- âœ… è¾…åŠ©è„šæœ¬å·²ç§»è‡³ `scripts/helper/`
- âœ… Docker Compose é…ç½®å·²æ›´æ–°
- âœ… åŸ `mysql/init/` ç›®å½•å¯ä»¥åˆ é™¤