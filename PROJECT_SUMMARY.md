# ğŸ‰ é¡¹ç›®å®Œæˆæ€»ç»“

## ğŸ“Š ä½ ç°åœ¨æ‹¥æœ‰ä»€ä¹ˆ

ä½ å·²ç»æˆåŠŸæ„å»ºäº†ä¸€ä¸ª **å®Œæ•´çš„ç°ä»£åŒ–æ•°æ®å¹³å°**ï¼ŒåŸºäº **Kubernetes** çš„ç”Ÿäº§çº§å®¹å™¨åŒ–éƒ¨ç½²ï¼

### ğŸ—ï¸ å®Œæ•´çš„æœåŠ¡æ ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ğŸŒ ç®¡ç†ç•Œé¢å±‚                              â”‚
â”‚  Kafka UI â”‚ phpMyAdmin â”‚ Redis Commander â”‚ Flink Web UI    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ğŸ’¼ åº”ç”¨æœåŠ¡å±‚                              â”‚
â”‚           Java å¾®æœåŠ¡ â”‚ Spring Boot â”‚ æ•°æ®å¤„ç†åº”ç”¨          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ğŸ”§ æ ¸å¿ƒæ•°æ®å±‚                              â”‚
â”‚   Kafka + ZooKeeper â”‚ MySQL â”‚ Redis â”‚ Apache Flink        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ğŸ’¾ æŒä¹…åŒ–å±‚                                â”‚
â”‚          Kubernetes PersistentVolumes (PVCs)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸš€ Kubernetes ç”Ÿäº§çº§éƒ¨ç½²

| ç‰¹æ€§         | Kubernetes æ•°æ®å¹³å° |
| ------------ | ------------------- |
| **å¯åŠ¨æ—¶é—´** | ï¿½ ~5-10 åˆ†é’Ÿ        |
| **èµ„æºæ¶ˆè€—** | ğŸ”¶ å¯é…ç½®å’Œä¼˜åŒ–      |
| **å¯ç”¨æ€§**   | é«˜å¯ç”¨é›†ç¾¤          |
| **æ‰©å±•æ€§**   | è‡ªåŠ¨æ‰©ç¼©å®¹          |
| **é€‚ç”¨åœºæ™¯** | ğŸ­ ç”Ÿäº§ + å¼€å‘       |
| **ç®¡ç†**     | ğŸ› ï¸ å®Œæ•´çš„ K8s å·¥å…·   |

## ğŸ“ é¡¹ç›®æ¶æ„

```
jurong/
â”œâ”€â”€ ğŸ“‹ DATA_PLATFORM_GUIDE.md      # å®Œæ•´ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ ï¿½ PROJECT_SUMMARY.md          # é¡¹ç›®æ€»ç»“
â”‚
â”œâ”€â”€ â˜¸ï¸  flink/                     # Kubernetes éƒ¨ç½²
â”‚   â”œâ”€â”€ deploy-k8s-complete.sh     # K8s å®Œæ•´éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ k8s-complete-stack.yaml    # å®Œæ•´æœåŠ¡æ ˆ
â”‚   â””â”€â”€ k8s-flink.yaml            # Flink é›†ç¾¤é…ç½®
â”‚
â”œâ”€â”€ ğŸ—„ï¸  mysql/                     # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â””â”€â”€ init/                     # SQL åˆå§‹åŒ–è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“š docs/                       # è¯¦ç»†æ–‡æ¡£
â”‚   â”œâ”€â”€ ARCHITECTURE_CLEANUP.md   # æ¶æ„æ¸…ç†æŒ‡å—
â”‚   â”œâ”€â”€ DOCKER_COMPOSE_VS_K8S.md  # éƒ¨ç½²å¯¹æ¯”
â”‚   â”œâ”€â”€ FLINK_GUIDE.md            # Flink ä½¿ç”¨æŒ‡å—
â”‚   â””â”€â”€ ...æ›´å¤šæ–‡æ¡£
â”‚
â””â”€â”€ ğŸ› ï¸  scripts/                   # è¾…åŠ©å·¥å…·
    â”œâ”€â”€ helper/                   # ç®¡ç†è„šæœ¬
    â””â”€â”€ start/                    # å¯åŠ¨è„šæœ¬
```

## ğŸ¯ ç«‹å³å¯ç”¨çš„åŠŸèƒ½

### 1. ä¸€é”® Kubernetes éƒ¨ç½²

```bash
# ï¿½ éƒ¨ç½²å®Œæ•´æ•°æ®å¹³å°
./flink/deploy-k8s-complete.sh deploy

# ğŸ“Š æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
./flink/deploy-k8s-complete.sh status

# ğŸ” è·å–æœåŠ¡ä¿¡æ¯
./flink/deploy-k8s-complete.sh info

# ğŸ§¹ æ¸…ç†æ‰€æœ‰èµ„æº
./flink/deploy-k8s-complete.sh cleanup
```

### 2. å®Œæ•´çš„æœåŠ¡è®¿é—®

**Kubernetes æœåŠ¡è®¿é—®:**
```bash
# ç«¯å£è½¬å‘è®¿é—®æ‰€æœ‰æœåŠ¡
kubectl port-forward -n data-platform svc/kafka-ui 8080:8080
kubectl port-forward -n data-platform svc/phpmyadmin 8081:8081
kubectl port-forward -n data-platform svc/redis-commander 8082:8082
kubectl port-forward -n data-platform svc/flink-jobmanager-ui 8083:8083
```

**è®¿é—®åœ°å€:**
- ğŸ›ï¸ Kafka UI: http://localhost:8080
- ğŸ—„ï¸ phpMyAdmin: http://localhost:8081  
- ğŸ“¦ Redis Commander: http://localhost:8082
- ğŸŒŠ Flink Web UI: http://localhost:8083

### 3. æœåŠ¡è¿æ¥é…ç½®

**Java Spring Boot é…ç½®ç¤ºä¾‹:**
```properties
# Kubernetes é›†ç¾¤å†…è®¿é—®
spring.kafka.bootstrap-servers=kafka-service.data-platform.svc.cluster.local:9092
spring.datasource.url=jdbc:mysql://mysql-service.data-platform.svc.cluster.local:3306/appdb
spring.datasource.username=root
spring.datasource.password=rootpassword
spring.redis.host=redis-service.data-platform.svc.cluster.local
spring.redis.port=6379
spring.redis.password=redispassword

# æœ¬åœ°å¼€å‘æ—¶é€šè¿‡ç«¯å£è½¬å‘
spring.kafka.bootstrap-servers=localhost:9092
spring.datasource.url=jdbc:mysql://localhost:3306/appdb
spring.redis.host=localhost
```

## ğŸ› ï¸ å¼€å‘å·¥ä½œæµ

### æ ‡å‡†å¼€å‘æµç¨‹

```bash
# 1. ğŸš€ å¯åŠ¨å¼€å‘ç¯å¢ƒ
./switch-env.sh dev

# 2. ğŸ§ª å¼€å‘å’Œæµ‹è¯•ä½ çš„åº”ç”¨
# - è¿æ¥ Kafka: localhost:9092
# - è¿æ¥ MySQL: localhost:3306
# - è¿æ¥ Redis: localhost:6379

# 3. ğŸ“Š ä½¿ç”¨ç®¡ç†ç•Œé¢
# - æŸ¥çœ‹ Kafka æ¶ˆæ¯
# - ç®¡ç†æ•°æ®åº“
# - ç›‘æ§ç¼“å­˜

# 4. ğŸ¯ å‡†å¤‡ç”Ÿäº§éƒ¨ç½²
./switch-env.sh prod

# 5. âœ… éªŒè¯ç”Ÿäº§ç¯å¢ƒ
./flink/deploy-k8s-complete.sh status
```

### æµ‹è¯•å’ŒéªŒè¯

```bash
# ğŸ§ª æµ‹è¯• Kafka
echo "test message" | docker compose exec -T kafka kafka-console-producer \
  --bootstrap-server localhost:9092 --topic test-topic

# ğŸ§ª æµ‹è¯• MySQL
docker compose exec mysql mysql -u root -p -e "SHOW DATABASES;"

# ğŸ§ª æµ‹è¯• Redis
docker compose exec redis redis-cli -a redispassword ping

# ğŸ§ª æµ‹è¯• Flink
curl http://localhost:8083/overview
```

## ğŸ“ˆ ç”Ÿäº§éƒ¨ç½²æ¸…å•

### âœ… å·²å®Œæˆé…ç½®

- [x] **å®Œæ•´æœåŠ¡æ ˆå®šä¹‰** (Kafka, MySQL, Redis, Flink)
- [x] **æ•°æ®æŒä¹…åŒ–** (PVC + StatefulSets)
- [x] **æœåŠ¡å‘ç°** (K8s Services)
- [x] **è´Ÿè½½å‡è¡¡** (LoadBalancer)
- [x] **å¥åº·æ£€æŸ¥** (Readiness + Liveness Probes)
- [x] **è‡ªåŠ¨é‡å¯** (RestartPolicy: Always)
- [x] **èµ„æºé™åˆ¶** (CPU + Memory Limits)
- [x] **é…ç½®ç®¡ç†** (ConfigMaps + Secrets)

### ğŸ”§ ç”Ÿäº§éƒ¨ç½²æ­¥éª¤

```bash
# 1. ç¡®ä¿ K8s é›†ç¾¤å°±ç»ª
kubectl cluster-info

# 2. ä¸€é”®éƒ¨ç½²å…¨æ ˆ
./flink/deploy-k8s-complete.sh deploy

# 3. éªŒè¯éƒ¨ç½²
./flink/deploy-k8s-complete.sh status

# 4. è·å–è®¿é—®ä¿¡æ¯
./flink/deploy-k8s-complete.sh info
```

## ğŸ¯ ä¸‹ä¸€æ­¥å¯ä»¥åšä»€ä¹ˆ

### ğŸš€ ç«‹å³å¯ç”¨
1. **å¼€å§‹ Java åº”ç”¨å¼€å‘** - è¿æ¥åˆ°å·²é…ç½®çš„æœåŠ¡
2. **åˆ›å»º Flink æµå¤„ç†ä½œä¸š** - ä½¿ç”¨ Flink Web UI
3. **è®¾è®¡æ•°æ®æ¨¡å‹** - åœ¨ MySQL ä¸­åˆ›å»ºè¡¨
4. **å®ç°ç¼“å­˜ç­–ç•¥** - ä½¿ç”¨ Redis ä¼˜åŒ–æ€§èƒ½

### ğŸ“ˆ æ‰©å±•åŠŸèƒ½
1. **æ·»åŠ ç›‘æ§** - Prometheus + Grafana
2. **é›†æˆæ—¥å¿—** - ELK Stack
3. **API ç½‘å…³** - Kong/Nginx Ingress
4. **æ¶ˆæ¯schemaç®¡ç†** - Schema Registry

### ğŸ” ç”Ÿäº§å¼ºåŒ–
1. **å®‰å…¨åŠ å›º** - TLS + RBAC
2. **å¤‡ä»½ç­–ç•¥** - è‡ªåŠ¨æ•°æ®å¤‡ä»½
3. **å‘Šè­¦ç³»ç»Ÿ** - æœåŠ¡å¥åº·ç›‘æ§
4. **CI/CD é›†æˆ** - GitHub Actions

## ğŸ‰ æ­å–œï¼

ä½ ç°åœ¨æ‹¥æœ‰äº†ä¸€ä¸ªï¼š
- âœ… **ç”Ÿäº§çº§åˆ«çš„æ•°æ®å¹³å°**
- âœ… **å¼€å‘å‹å¥½çš„æœ¬åœ°ç¯å¢ƒ**  
- âœ… **å®Œæ•´çš„ç®¡ç†å·¥å…·**
- âœ… **è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£**
- âœ… **ä¸€é”®éƒ¨ç½²è„šæœ¬**

å¼€å§‹æ„å»ºä½ çš„æ•°æ®é©±åŠ¨åº”ç”¨å§ï¼ğŸš€

---

ğŸ“š **æ›´å¤šå¸®åŠ©:** æŸ¥çœ‹ `DATA_PLATFORM_GUIDE.md` è·å–è¯¦ç»†ä½¿ç”¨æŒ‡å—